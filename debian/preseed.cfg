# Preseed configuration file for Debian 12 (Bookworm) installation
# full example: https://preseed.debian.net/debian-preseed/bookworm/amd64-main-full.txt

# Locale settings
d-i localechooser/language-name string English
d-i localechooser/language string en
d-i countrychooser/shortlist string US
d-i keymap select us

# Network settings
d-i netcfg/choose_interface select auto
d-i netcfg/get_hostname string debian-bookworm
d-i netcfg/get_domain string local

# Mirror settings
d-i mirror/country string US
d-i mirror/http/hostname string ftp.us.debian.org
d-i mirror/http/directory string /debian
d-i mirror/http/proxy string

# Set up LVM for disk partitioning
d-i partman-auto/method string lvm
d-i partman-auto/choose_recipe select atomic
d-i partman-lvm/device_remove_lvm boolean true
d-i partman-lvm/vg_name string vg0

# Disk setup - auto partitioning with LVM
d-i partman-auto-lvm/guided_size string max
d-i partman-lvm/confirm boolean true
d-i partman-auto/confirm boolean true
d-i partman-auto/confirm_nooverwrite boolean true

# Setting up the root filesystem
d-i partman-basicfilesystems/create_filesystem boolean true
d-i partman-basicfilesystems/confirm boolean true

# User setup
d-i passwd/user-fullname string durosyan
d-i passwd/username string durosyan
d-i passwd/user-password password userp
d-i passwd/user-password-again password userp
d-i user-setup/allow-password-weak boolean true

# Set up root password
d-i passwd/root-password password rootp
d-i passwd/root-password-again password rootp

# Timezone settings
d-i time/zone string America/New_York
d-i clock-setup/utc boolean true

# Set up apt repositories (for installing basic packages)
d-i apt-setup/non-free boolean false
d-i apt-setup/contrib boolean false

# Install additional packages (if desired)
d-i pkgsel/include string vim htop curl build-essential

# Enable SSH
d-i pkgsel/upgrade select none
d-i pkgsel/include string openssh-server

# Grub settings
d-i grub-installer/only_debian boolean true
d-i grub-installer/bootdev string /dev/sda

# Finish installation
d-i finish-install/reboot_in_progress note

# Automatically reboot after installation is done
d-i debian-installer/exit/halt boolean false
